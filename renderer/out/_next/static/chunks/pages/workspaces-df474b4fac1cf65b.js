(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{827:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspaces",function(){return t(4801)}])},4801:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(4246),o=t(7378),s=t(3896),a=t(312),c=t(6443),i=t(3596),u=t(2076);var l=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],l=(0,s.X)().handleMenuAction;return(0,r.jsxs)("form",{className:" p-1 gap-1 mt-auto flex",onSubmit:function(e){return function(e){e.preventDefault(),n.length<=0||(l(u.Yh,{workspaceId:(0,i.Z)(),workspaceTitle:[n]}),t(""))}(e)},children:[(0,r.jsx)("input",{className:"bg-sky-900 appearance-none border-2 border-sky-200 rounded w-full py-2 px-4 text-sky-100 leading-tight focus:outline-none focus:bg-sky-700 focus:border-sky-500",type:"text",onChange:function(e){return function(e){e.target.value.length<=u.wj&&t(e.target.value)}(e)},value:n,placeholder:"Workspace Title"}),(0,r.jsx)("button",{type:"submit",className:"shadow bg-sky-500 hover:bg-sky-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",children:(0,r.jsx)(c.G,{className:"icon",icon:a.r8p})})]})},d=t(9722);var f=function(e){var n=e.workspaceId,t=e.workspaceTitle,i=e.workspaceListItemMode,l=e.workspaceData,d=(0,o.useState)(void 0!==t&&t[0]),f=d[0],p=d[1],x=(0,o.useState)(!1),v=x[0],h=x[1],k=(0,o.useState)(!1),m=k[0],w=k[1],g=(0,s.X)(),b=g.handleMenuAction,j=g.currentlySelectedWorkspace,y=function(){var e=[f];b(u.Ld,{workspaceId:n,workspaceTitle:e,workspaceData:l})};return(0,r.jsxs)("div",{className:"flex rounded group focus-within:bg-sky-700 focus:bg-sky-700 hover:bg-sky-700 group-hover:bg-sky-700 relative ".concat(n===j&&"bg-sky-700"),onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},onClick:function(){b(u.LV,{workspaceId:n})},children:[(0,r.jsx)("input",{className:"bg-transparent cursor-pointer appearance-none border-2 border-sky-200 rounded w-full py-2 px-4 text-sky-100 leading-tight focus:outline-none",type:"text",value:f,readOnly:!i,onChange:function(e){return function(e){e.target.value!==f&&p(e.target.value)}(e)},onFocus:function(){b(u.LV,{workspaceId:n}),h(!0)},onBlur:function(){h(!1),y()}}),(m||v)&&(0,r.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 flex bg-transparent ",children:i?(0,r.jsx)("button",{className:"button text-sm my-auto mx-0.5 rounded-full flex justify-center items-center w-8 h-8 min-h-8 min-w-8 bg-green-500 focus:outline-none focus:bg-green-600 hover:bg-green-600",onClick:function(){return y()},children:(0,r.jsx)(c.G,{className:"icon",icon:a.LEp})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"button text-sm my-auto mx-0.5 rounded-full flex justify-center items-center w-8 h-8 min-h-8 min-w-8 bg-cyan-500 focus:outline-none focus:bg-cyan-600 hover:bg-cyan-600",onClick:function(){b(u.IW,{workspaceId:n})},children:(0,r.jsx)(c.G,{className:"icon",icon:a.TzT})}),(0,r.jsx)("button",{className:"button text-sm my-auto mx-0.5 rounded-full flex justify-center items-center w-8 h-8 min-h-8 min-w-8 bg-red-500 focus:outline-none focus:bg-red-600 hover:bg-red-600",onClick:function(){return b(u.EV,{workspaceId:n})},children:(0,r.jsx)(c.G,{className:"icon",icon:a.$aW})})]})})]},n)};var p=function(){var e=(0,s.X)().workspaceList;return(0,r.jsx)(r.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e){return(0,r.jsx)(f,(0,d.Z)({},e))}))})};var x=function(){var e=(0,s.X)().isMenuDrawerOpen;return(0,r.jsxs)("div",{className:"w-full basis-80 bg-sky-800 transition-all flex flex-col ".concat(e?"max-w-md":"max-w-0"),children:[(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(p,{})}),(0,r.jsx)(l,{})]})},v=function(e){var n=e.children;return(0,r.jsx)("div",{children:n})},h=t(6186),k=t(192),m=function(e){var n=e.editorId,t=e.editorContent;console.log("inside editor: ",n,t);var o=(0,h.jE)({extensions:[k.Z],content:t});return(0,r.jsx)(h.kg,{editor:o})};var w=function(e){var n=e.workspace.workspaceData,t=n.workspaceEditorList;console.log("workspace",n);var o=null===t||void 0===t?void 0:t.map((function(e){var n=e.editorId,t=e.editorContent;return console.log("editor map",n),(0,r.jsx)("div",{children:(0,r.jsx)(m,{editorId:n,editorContent:t})},n)}));return(0,r.jsx)(v,{children:o})};var g=function(e){var n=e.workspace;return(0,r.jsx)("div",{children:(0,r.jsx)(w,{workspace:n})})},b=t(2564),j=function(){var e=(0,b.n)().isNonInteractable,n=(0,s.X)(),t=n.currentlySelectedWorkspace,o=n.workspaceList,a=null===o||void 0===o?void 0:o.filter((function(e){return e.workspaceId===t&&e}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{id:"main",className:"h-full w-full flex",children:[!e&&(0,r.jsx)(x,{}),(0,r.jsx)("div",{className:"basis-auto w-full p-2 ".concat(!e&&"bg-slate-900"),children:a&&(0,r.jsx)(g,{workspace:a[0]})})]})})}}},function(e){e.O(0,[345,883,214,774,888,179],(function(){return n=827,e(e.s=n);var n}));var n=e.O();_N_E=n}]);